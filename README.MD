# Lineage 2 Grand Crusade â€“ Launcher & Updater

Launcher em **Python + PyQt5** para o Lineage 2 Grand Crusade, com:

- Tela personalizada com arte e moldura no estilo do L2  
- AtualizaÃ§Ã£o automÃ¡tica do cliente ao abrir o launcher  
- BotÃµes de **Atualizar Cliente**, **Full Check** e **JOGAR**  
- Log separado em janela prÃ³pria  
- Sistema de update via HTTP (servidor web simples)

---
teste 
## ContribuiÃ§Ã£o e Fluxo de Pull Requests

Este projeto Ã© livre para qualquer usuÃ¡rio baixar, clonar, abrir issues, e criar branches/forks contendo soluÃ§Ãµes.

**Regras para Pull Requests:**
- Todos os pull requests (PRs) devem ser enviados para a branch `homologacao`.
- PRs para a branch `main` nÃ£o serÃ£o aceitos diretamente.
- Apenas o mantenedor ([@Tkenai](https://github.com/Tkenai)) pode aprovar e fazer merge de PRs para a branch principal (`main`), apÃ³s homologaÃ§Ã£o.
- ApÃ³s validaÃ§Ã£o na `homologacao`, serÃ¡ criado um PR de homologaÃ§Ã£o para `main`.


**PolÃ­tica para criaÃ§Ã£o de branches**
- Crie sempre uma `issue` antes de iniciar uma alteraÃ§Ã£o.
- As branches devem ser nomeadas com o prefixo do nÃºmero da issue, exemplo: `issue-12-corrige-bug-login`.
- Pull requests sem vinculaÃ§Ã£o a uma issue podem ser recusados.

- **LicenÃ§a**
Este projeto estÃ¡ licenciado sob os termos da [GNU General Public License v3.0](LICENSE).

---

## âš ï¸ Arquivos que vocÃª *sempre* deve ajustar ao mudar IP / hostname

Quando trocar o IP ou o nome do servidor web, lembre-se de atualizar:

1. **`config.json`** (na raiz do projeto)  
   - Campos dentro de `"paths"`:
     - `update_json`
     - `fullcheck_json`
     - `news_url` (se usar notÃ­cias online)
2. **Arquivos JSON no servidor web (pasta `www`)**
   - `www/l2updater/update_json_url.json`
   - `www/l2updater/fullcheck.json`  
   (se esses arquivos tiverem URLs absolutas ou caminhos de base)

> Regra de ouro: qualquer URL comeÃ§ando com `http://` ou `https://` precisa ser revisada quando o servidor mudar.

---

## ðŸ“ Estrutura do projeto

Estrutura sugerida da raiz do projeto:

```text
launcher_complete/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main_window.py
â”‚   â”œâ”€â”€ updater_window.py
â”‚   â””â”€â”€ windows_privileges.py
â”‚
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ launcher_bg.png
â”‚   â””â”€â”€ gimp image for edit with border.png
â”‚
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ launcher.log
â”‚
â”œâ”€â”€ www/                          â† Servidor Web (HTTP)
â”‚   â””â”€â”€ l2updater/
â”‚       â”œâ”€â”€ client/              â† Cliente completo do Lineage 2
â”‚       â”œâ”€â”€ fullcheck.json
â”‚       â””â”€â”€ update_json_url.json
â”‚
â”œâ”€â”€ config.json
â”œâ”€â”€ main.py
â””â”€â”€ README.md
```
---

```mermaid
flowchart TD

    %% AUTO UPDATE AO INICIAR
    A["Iniciar Launcher"] --> B{"Auto Update habilitado?"}

    B -- "NÃ£o" --> G["Habilitar botÃ£o Jogar"]
    B -- "Sim" --> C["Baixar update_json"]

    C --> D["Comparar hashes SHA1"]
    D --> E{"Arquivos diferentes?"}

    E -- "NÃ£o" --> G["Habilitar botÃ£o Jogar"]
    E -- "Sim" --> F["Baixar arquivos faltantes"]

    F --> G["Habilitar botÃ£o Jogar"]

    %% BOTÃ•ES MANUAIS
    G --> H["BotÃ£o Atualizar Cliente"]
    H --> C

    G --> I["BotÃ£o FullCheck"]
    I --> J["Baixar fullcheck JSON"]
    J --> D
```


---
# Como Recompilar o Launcher para EXE (PyInstaller)

1. Instalar dependÃªncias    
    pip install pyinstaller pyqt5

2. Gerar EXE com Ã­cone e sem console  
   pyinstaller ^
       --noconsole --noconfirm --name "L2Launcher" --icon=assets/icon.ico --add-data "assets;assets" --add-data "www;www" main.py
3. Arquivos gerados
    /dist/L2Launcher/L2Launcher.exe